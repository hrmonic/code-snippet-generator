{
  "id": "sql-joins",
  "name": "Requêtes SQL avec JOIN",
  "description": "Exemples de JOIN (INNER, LEFT, RIGHT, FULL)",
  "language": "sql",
  "feature": "joins",
  "code": "-- INNER JOIN (intersection)\nSELECT u.id, u.name, u.email, p.title as post_title\nFROM {{tableName1}} u\nINNER JOIN {{tableName2}} p ON u.id = p.user_id\nWHERE u.active = 1;\n\n-- LEFT JOIN (tous les utilisateurs, même sans posts)\nSELECT u.id, u.name, u.email, p.title as post_title\nFROM {{tableName1}} u\nLEFT JOIN {{tableName2}} p ON u.id = p.user_id;\n\n-- RIGHT JOIN (tous les posts, même sans utilisateur)\nSELECT u.id, u.name, u.email, p.title as post_title\nFROM {{tableName1}} u\nRIGHT JOIN {{tableName2}} p ON u.id = p.user_id;\n\n-- FULL OUTER JOIN (tous les enregistrements)\nSELECT u.id, u.name, u.email, p.title as post_title\nFROM {{tableName1}} u\nFULL OUTER JOIN {{tableName2}} p ON u.id = p.user_id;\n\n-- JOIN avec plusieurs tables\nSELECT u.name, p.title, c.content\nFROM {{tableName1}} u\nINNER JOIN {{tableName2}} p ON u.id = p.user_id\nINNER JOIN comments c ON p.id = c.post_id\nWHERE u.active = 1;\n\n-- JOIN avec agrégation\nSELECT u.name, COUNT(p.id) as post_count\nFROM {{tableName1}} u\nLEFT JOIN {{tableName2}} p ON u.id = p.user_id\nGROUP BY u.id, u.name\nHAVING COUNT(p.id) > 0;\n\n-- Self JOIN (table joinée avec elle-même)\nSELECT e1.name as employee, e2.name as manager\nFROM employees e1\nLEFT JOIN employees e2 ON e1.manager_id = e2.id;",
  "variables": [
    {
      "name": "tableName1",
      "type": "text",
      "label": "Première table",
      "required": true,
      "description": "Nom de la première table (ex: users)",
      "placeholder": "users"
    },
    {
      "name": "tableName2",
      "type": "text",
      "label": "Deuxième table",
      "required": true,
      "description": "Nom de la deuxième table (ex: posts)",
      "placeholder": "posts"
    },
    {
      "name": "joinTypes",
      "type": "multiselect",
      "label": "Types de JOIN",
      "required": true,
      "description": "Sélectionnez les types de JOIN à inclure",
      "defaultValue": ["inner", "left"],
      "options": [
        { "value": "inner", "label": "INNER JOIN" },
        { "value": "left", "label": "LEFT JOIN" },
        { "value": "right", "label": "RIGHT JOIN" },
        { "value": "full", "label": "FULL OUTER JOIN" },
        { "value": "multiple", "label": "JOIN avec plusieurs tables" },
        { "value": "aggregation", "label": "JOIN avec agrégation" },
        { "value": "self", "label": "Self JOIN" }
      ]
    },
    {
      "name": "joinColumn1",
      "type": "text",
      "label": "Colonne de jointure (table 1)",
      "required": false,
      "description": "Colonne de jointure dans la première table",
      "placeholder": "id",
      "defaultValue": "id"
    },
    {
      "name": "joinColumn2",
      "type": "text",
      "label": "Colonne de jointure (table 2)",
      "required": false,
      "description": "Colonne de jointure dans la deuxième table",
      "placeholder": "user_id",
      "defaultValue": "user_id"
    }
  ],
  "security": {
    "sqlInjection": true,
    "xss": false
  }
}

